<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Interface: dataModelAPI</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-decorators.html">decorators</a></li><li><a href="module-defaults.html">defaults</a></li><li><a href="module-dynamicProperties.html">dynamicProperties</a></li><li><a href="module-effects.html">effects</a></li><li><a href="module-fallbacks.html">fallbacks</a></li><li><a href="module-fields.html">fields</a></li><li><a href="module-images.html">images</a></li><li><a href="module-localization.html">localization</a></li></ul><h3>Classes</h3><ul><li><a href="Base.html">Base</a></li><li><a href="Behavior.html">Behavior</a></li><li><a href="Button.html">Button</a></li><li><a href="CellClick.html">CellClick</a></li><li><a href="CellEditing.html">CellEditing</a></li><li><a href="CellEditor.html">CellEditor</a></li><li><a href="CellEditors.html">CellEditors</a></li><li><a href="CellEvent.html">CellEvent</a></li><li><a href="CellRenderer.html">CellRenderer</a></li><li><a href="CellRenderers.html">CellRenderers</a></li><li><a href="CellSelection.html">CellSelection</a></li><li><a href="Color.html">Color</a></li><li><a href="Column.html">Column</a></li><li><a href="ColumnMoving.html">ColumnMoving</a></li><li><a href="ColumnResizing.html">ColumnResizing</a></li><li><a href="ColumnSelection.html">ColumnSelection</a></li><li><a href="ColumnSorting.html">ColumnSorting</a></li><li><a href="Combo.html">Combo</a></li><li><a href="DataModels.html">DataModels</a></li><li><a href="Date.html">Date</a></li><li><a href="ErrorCell.html">ErrorCell</a></li><li><a href="Feature.html">Feature</a></li><li><a href="Features.html">Features</a></li><li><a href="Filters.html">Filters</a></li><li><a href="HeaderSubgrid.html">HeaderSubgrid</a></li><li><a href="Hypergrid.html">Hypergrid</a></li><li><a href="KeyPaging.html">KeyPaging</a></li><li><a href="LastSelection.html">LastSelection</a></li><li><a href="Local.html">Local</a></li><li><a href="module-localization-DateFormatter.html">DateFormatter</a></li><li><a href="module-localization-Formatter.html">Formatter</a></li><li><a href="module-localization-Localization.html">Localization</a></li><li><a href="module-localization-NumberFormatter.html">NumberFormatter</a></li><li><a href="Number.html">Number</a></li><li><a href="OnHover.html">OnHover</a></li><li><a href="Registry.html">Registry</a></li><li><a href="Renderer.html">Renderer</a></li><li><a href="RowResizing.html">RowResizing</a></li><li><a href="RowSelection.html">RowSelection</a></li><li><a href="SelectionModel.html">SelectionModel</a></li><li><a href="SimpleCell.html">SimpleCell</a></li><li><a href="Slider.html">Slider</a></li><li><a href="SparkBar.html">SparkBar</a></li><li><a href="SparkLine.html">SparkLine</a></li><li><a href="Spinner.html">Spinner</a></li><li><a href="Textfield.html">Textfield</a></li><li><a href="ThumbwheelScrolling.html">ThumbwheelScrolling</a></li><li><a href="TreeCell.html">TreeCell</a></li><li><a href="WritablePoint.html">WritablePoint</a></li></ul><h3>Events</h3><ul><li><a href="dataModelAPI.html#event:fin-hypergrid-data-changed">fin-hypergrid-data-changed</a></li><li><a href="dataModelAPI.html#event:fin-hypergrid-data-postreindex">fin-hypergrid-data-postreindex</a></li><li><a href="dataModelAPI.html#event:fin-hypergrid-data-prereindex">fin-hypergrid-data-prereindex</a></li><li><a href="dataModelAPI.html#event:fin-hypergrid-data-shape-changed">fin-hypergrid-data-shape-changed</a></li><li><a href="dataModelAPI.html#event:fin-hypergrid-schema-changed">fin-hypergrid-schema-changed</a></li></ul><h3>Namespaces</h3><ul><li><a href="dataModelEventHandlers.html">dataModelEventHandlers</a></li></ul><h3>Mixins</h3><ul><li><a href="behaviorMixin.html">behaviorMixin</a></li><li><a href="columnMixin.html">columnMixin</a></li><li><a href="mixin.html">mixin</a></li><li><a href="sharedMixin.html">sharedMixin</a></li></ul><h3>Interfaces</h3><ul><li><a href="dataModelAPI.html">dataModelAPI</a></li><li><a href="localizerInterface.html">localizerInterface</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addAllColumnProperties">addAllColumnProperties</a></li><li><a href="global.html#addState">addState</a></li><li><a href="global.html#assignProps">assignProps</a></li><li><a href="global.html#cancelEditing">cancelEditing</a></li><li><a href="global.html#cellEventFactory">cellEventFactory</a></li><li><a href="global.html#computeCellsBounds">computeCellsBounds</a></li><li><a href="global.html#createColumns">createColumns</a></li><li><a href="global.html#createDataRowProxy">createDataRowProxy</a></li><li><a href="global.html#decorateDataModel">decorateDataModel</a></li><li><a href="global.html#deferredBehaviorChange">deferredBehaviorChange</a></li><li><a href="global.html#deprecated">deprecated</a></li><li><a href="global.html#errorEffectEnd">errorEffectEnd</a></li><li><a href="global.html#findCell">findCell</a></li><li><a href="global.html#getActiveColumns">getActiveColumns</a></li><li><a href="global.html#getColumns">getColumns</a></li><li><a href="global.html#getMinimumLeftPositionToShowColumn">getMinimumLeftPositionToShowColumn</a></li><li><a href="global.html#getTextWidthTruncated">getTextWidthTruncated</a></li><li><a href="global.html#getVisibleCellMatrix">getVisibleCellMatrix</a></li><li><a href="global.html#handleKeyDown">handleKeyDown</a></li><li><a href="global.html#rebundleGridRenderers">rebundleGridRenderers</a></li><li><a href="global.html#registry">registry</a></li><li><a href="global.html#resetCellPropertiesCache">resetCellPropertiesCache</a></li><li><a href="global.html#resetRowHeaderColumnWidth">resetRowHeaderColumnWidth</a></li><li><a href="global.html#resolveCalculator">resolveCalculator</a></li><li><a href="global.html#setAllColumnProperties">setAllColumnProperties</a></li><li><a href="global.html#terminate">terminate</a></li><li><a href="global.html#validateEditorValue">validateEditorValue</a></li><li><a href="global.html#valOrFunc">valOrFunc</a></li><li><a href="global.html#visibleColumns">visibleColumns</a></li><li><a href="global.html#visibleRows">visibleRows</a></li></ul>
</nav>
<div id="main">

    <h1 class="page-title">Interface: dataModelAPI</h1>

    




<section>

<header>
    
        <h2>
        dataModelAPI
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Hypergrid 3 data models have a minimal <em>required interface,</em> as outlined below.</p>
<h4>Standard interface</h4><p>TL;DR — The only mandatory requirement is to implement the three methods, <code>getRowCount()</code>, <code>getSchema()</code>, and <code>getValue(x, y)</code>.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th style="text-align:center">Required</th>
<th style="text-align:center">Optional</th>
<th style="text-align:center">Injected</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="dataModelAPI.html#addRow"><code>addRow(dataRow, y)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td style="text-align:center"></td>
<td>Proposed interface.</td>
</tr>
<tr>
<td><a href="dataModelAPI.html#apply"><code>apply()</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td>No-op implementation.</td>
</tr>
<tr>
<td><a href="dataModelAPI.html#click"><code>click()</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td>No-op implementation that returns <code>false</code>.</td>
</tr>
<tr>
<td><a href="dataModelAPI.html#delRow"><code>delRow(y, dataRow)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td style="text-align:center"></td>
<td>Proposed interface.</td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getCell"><code>getCell(config, rendererName)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td>Overridable.</td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getCellEditorAt"><code>getCellEditorAt(columnIndex, rowIndex, editorName, cellEvent)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td>Overridable.</td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getColumnCount"><code>getColumnCount()</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getData"><code>getData(metaDataFieldName)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getMetadataStore"><code>getMetadataStore()</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getRowIndex"><code>getRowIndex(y)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getRow"><code>getRow(y)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getRowMetadata"><code>getRowMetadata(y, newRowMetadata)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getRowCount"><code>getRowCount()</code></a></td>
<td style="text-align:center"><code>•</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getSchema"><code>getSchema()</code></a></td>
<td style="text-align:center"><code>•</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#getValue"><code>getValue(x, y)</code></a></td>
<td style="text-align:center"><code>•</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#isDrillDown"><code>isDrillDown()</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td>No-op implementation that returns <code>false</code>.</td>
</tr>
<tr>
<td><a href="dataModelAPI.html#setMetadataStore"><code>setMetadataStore()</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#setRow"><code>setRow(y, dataRow)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td style="text-align:center"></td>
<td>Proposed interface.</td>
</tr>
<tr>
<td><a href="dataModelAPI.html#setRowMetadata"><code>setRowMetadata(y, newRowMetadata)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td></td>
</tr>
<tr>
<td><a href="dataModelAPI.html#setSchema"><code>setSchema(newSchema)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td style="text-align:center"></td>
<td>Only called when the application calls it directly (<code>dataModel.setSchema()</code>) or indirectly by invoking Hypergrid's <code>behavior.schema</code> setter.</td>
</tr>
<tr>
<td><a href="dataModelAPI.html#setValue"><code>setValue(x, y, value)</code></a></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>•</code></td>
<td style="text-align:center"></td>
<td>Only called on attempt to close a cell editor. Note that cells are editable by default; set the <a href="module-defaults.html#.editable"><code>editable</code></a> property to <code>false</code> to make cell(s) non-editable (<em>i.e.,</em> read-only) so this method will never be called.</td>
</tr>
</tbody>
</table>
<p>Definitions:</p>
<ul>
<li>Implementation <strong>Required</strong> — The method is required to be implemented by all data models.</li>
<li>Fallback <strong>Injected</strong> — When not supported by the data model, Hypergrid injects a functional implementation. <em><strong>Caution:</strong></em> These implementations may or may not be appropriate for your application. Check the code!</li>
<li>Implementation <strong>Optional</strong> — Required only if the application intends to call it, either directly on the data model, or through a Hypergrid proxy method; or autonomously by Hypergrid itself when certain features are activated.</li>
<li><strong>No-op implementation</strong> — Fails silently when called.</li>
<li><strong>Overridable</strong> — Called by Hypergrid; not intended to ever be called by the data model itself. The injected default is subject to being overridden by the application. Although a custom data model could in theory supply these, doing so would be very rare.</li>
<li><strong>Proposed interface</strong> — These specifications are theoretical. Hypergrid never calls any of these methods. They are being put forward here just so that data models might aim for some level of interoperability. Implement at your own discretion, based on your application's specific needs.</li>
</ul>
<h4>Utility methods</h4><p>Hypergrid only references the following when implemented (as they are in <code>DataSourceBase</code>).</p>
<ul>
<li><a href="dataModelAPI.html#install"><code>install(api, injectFallbacks)</code></a></li>
<li><a href="dataModelAPI.html#drillDownCharMap"><code>drillDownCharMap</code></a></li>
</ul>
<h4><code>Error</code> implementation</h4><p>Hypergrid never uses this but data models should always do so when they need to throw an error:</p>
<ul>
<li><a href="dataModelAPI.html#DataSourceError"><code>DataSourceError(message)</code></a></li>
</ul>
<p>This helps identify the error as coming from the data model and not from Hypergrid (which always uses its own <code>HypergridError</code>) or the application.</p>
<h4>Data events</h4><p>Hypergrid listens for the following events, which may be triggered from a data model using the <a href="dataModelAPI.html#dispatchEvent"><code>dispatchEvent</code></a> method injected into data models by Hypergrid.</p>
<p>On receipt, Hypergrid performs some internal actions before triggering grid event (actually on the grid's canvas element) with a similar event string (but with the addition of a <code>fin-</code> prefix). So for example, on receipt of the <code>data-changed</code> event from the data model, Hypergrid triggers <code>fin-data-changed</code> on the grid, which applications can listen for using <a href="Hypergrid.html#addEventListener"><code>grid.addEventListener('fin-data-changed', handlerFunction)</code></a>.</p>
<ul>
<li><code>data-schema-changed</code></li>
<li><code>data-changed</code></li>
<li><code>data-shape-changed</code></li>
<li><code>data-prereindex</code></li>
<li><code>data-postreindex</code></li>
</ul>
<h4>Example</h4><p>The following is a custom data model with its own data and a minimum implementation.</p>
<pre class="prettyprint source lang-javascript"><code>var data = [
     { symbol: 'APPL', name: 'Apple Inc.',                           prevclose:  93.13 },
     { symbol: 'MSFT', name: 'Microsoft Corporation',                prevclose:  51.91 },
     { symbol: 'TSLA', name: 'Tesla Motors Inc.',                    prevclose: 196.40 },
     { symbol: 'IBM',  name: 'International Business Machines Corp', prevclose: 155.35 }
 ];

 var schema = ['symbol', 'name', 'prevclose']; // or: `Object.keys(data)` although order not guaranteed

 dataModel = {
    getSchema: function() {
        if (!this.schema) {
            this.schema = schema;
            this.dispatchEvent('data-schema-changed');
        }
        return this.schema;
    },
    getValue: function(x, y) {
        return data[y][this.schema[x].name];
    },
    getRowCount: function() {
       return data.length;
    }
};</code></pre><p>This simple example is a plain object namespace.</p>
<h4>Data model base class</h4><p>Although not a requirement, data models are more typically class instances, typically extending from <code>DataSourceBase</code> (<em>i.e.,</em> have as its prototype the prototype of <code>DataSourceBase</code>).</p>
<p>There are many ways to &quot;extend&quot; a class do this. For instance, to &quot;extend&quot; the above example:</p>
<pre class="prettyprint source lang-javascript"><code>Object.setPrototypeOf(dataModel, DataSourceBase.prototype);</code></pre><p>Or, for a hypothetical <code>DataModel</code> constructor:</p>
<pre class="prettyprint source lang-javascript"><code>Object.setPrototypeOf(DataModel.prototype, DataSourceBase.prototype);</code></pre><p>But the usual practice is to use <code>DataSourceBase.extend</code>. For example, <code>DataSourcelLocal</code>, the default data model that comes with Hypergrid, <a href="https://github.com/fin-hypergrid/datasaur-local/blob/master/index.js#L27">does this</a>. <code>DataSourceBase</code> supports &quot;stacked&quot; data models (with multi-stage data transformations). It also includes an implementation of the <code>install</code> utility method.</p>
<p>But again, extending from <code>DataSourceBase</code> is not a requirement, just so long as the data model conforms to the interface. And for that reason, a rudimentary version of <code>install</code> is injected into custom data models when they lack an implementation of their own.</p>
<p><code>DataSourceBase</code> can be found in the [<code>datasaur-base</code>] module.</p></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="addRow"><span class="type-signature"></span>addRow<span class="signature">(dataRow, y<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Insert or append a new row.</p>
<p><em>Note parameter order is the reverse of <code>setRow</code>.</em></p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataRow</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    Infinity
                
                </td>
            

            <td class="description last"><p>The index of the new row. If <code>y</code> &gt;= row count, row is appended to end; otherwise row is inserted at <code>y</code> and row indexes of all remaining rows are incremented.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="apply"><span class="type-signature"></span>apply<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Transforms the data. All the rows are subject to change, including the row count.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="click"><span class="type-signature"></span>click<span class="signature">(event)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    
    <p class="summary"><p>Mouse was clicked on a grid row.</p></p>
    



<div class="description">
    <p>The data model may respond to clicks by adding/removing/decorating data rows (<em>e.g.,</em> a drill-down).
If it does so, the click is considered to be &quot;consumed.&quot;
When a click is consumed, data models should publish 'data-changed' to the grid; or 'data-prereindex' and 'data-postreindex', which in turn triggers a 'data-changed' event. Hypergrid takes appropriate actions on receipt of 'data-<em>' events before synthesizing and firing 'fin-data-</em>' events.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CellEvent.html">CellEvent</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>Click was consumed by the data model.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="DataSourceError"><span class="type-signature"></span>DataSourceError<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#dataRowObject">dataRowObject</a>>}</span></h4>

    



<div class="description">
    <p>A direct descendent of <code>Error</code>.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#dataRowObject">dataRowObject</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="delRow"><span class="type-signature"></span>delRow<span class="signature">(y, rowCount<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#dataRowObject">dataRowObject</a>>}</span></h4>

    



<div class="description">
    <p>Rows are removed entirely and no longer render.
Indexes of all remaining rows are decreased by <code>rowCount</code>.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rowCount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    1
                
                </td>
            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#dataRowObject">dataRowObject</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="dispatchEvent"><span class="type-signature"></span>dispatchEvent<span class="signature">(eventName, eventDetail<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>This method is injected by Hypergrid when data model does not support <code>addListener</code>.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>eventName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Event string (name).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>eventDetail</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last"><p>Optional event detail data.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="drillDownCharMap"><span class="type-signature"></span>drillDownCharMap<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#dataRowObject">dataRowObject</a>>}</span></h4>

    



<div class="description">
    <p>Characters that can be used to construct cell values representing drill downs in a tree structure.</p>
<p>A specialized cell renderer is often employed to produce better results using graphics instead of characters.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#dataRowObject">dataRowObject</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getCell"><span class="type-signature"></span>getCell<span class="signature">(config, rendererName)</span><span class="type-signature"> &rarr; {<a href="CellRenderer.html">CellRenderer</a>}</span></h4>

    
    <p class="summary"><p>Renderer configuration interceptor.</p></p>
    



<div class="description">
    <h4>IMPLEMENTATION: Optional</h4><p>If your data model does not supply a custom <code>getCell</code> method, <a href="Behavior.html#reset"><code>Behavior#reset</code></a> adds the default implementation (<code>module:dataModel.getCell</code>).</p>
<h4>Description</h4><p>This method is a hook called on every cell just prior to rendering and is intended to be overridden.</p>
<p>The first parameter to this method, <code>config</code>, Please refer to the <code>renderConfig</code> object for details. Most of the properties on this object can be overridden programmatically in this method. Properties typically overridden include <a href="module-defaults.html#.renderer"><code>renderer</code></a>, <a href="module-defaults.html#.editor"><code>editor</code></a>, <a href="module-defaults.html#.format"><code>format</code></a>, and the various permutations of <a href="module-defaults.html#.font"><code>font</code></a>, <a href="module-defaults.html#.color"><code>color</code></a>, and <a href="module-defaults.html#.halign"><code>halign</code></a>.</p>
<p>Your override will be called with the data model as it's execution context (the <code>this</code> value).</p>
<p>The only requirement for this method (or its override) is to return a reference to an instantiated cell renderer, which is all the default implementation does. This is typically the renderer whose name is in the <a href="module-defaults.html#.renderer"><code>config.renderer</code></a>, property (assumed to be a &quot;registered&quot; cell renderer). It doesn't have to be that cell renderer, however; and any object with a <code>paint</code> method will do.</p>
<h4>IMPORTANT CAVEAT!!</h4><p>Although this hook was designed to be overridden, adding lots (or any, really) programmatic logic to be executed on every cell, on every render, is <em>expensive</em> in terms of performance, and doing so should only be a last resort.</p>
<p>As Hypergrid has evolved, many properties have been added including row and cell properties, which can accomplish much that was previously impossible without overrideing <code>getCell</code>. For example, you can now select a formatter and a renderer simply by setting a column's (or row's) (or cell's) <code>format</code> or <code>renderer</code> property.</p>
<p>Overriding <code>getCell</code> still has great facility when the rendering needs to be a function of the data values, but other than that, every effort should be made to avoid overriding <code>getCell</code> whenever possible.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">CellEditor#renderConfig</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rendererName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Same as <code>config.renderer</code>, the proposed cell renderer name.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An instantiated cell renderer.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CellRenderer.html">CellRenderer</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getCellEditorAt"><span class="type-signature"></span>getCellEditorAt<span class="signature">(columnIndex, rowIndex, editorName, cellEvent)</span><span class="type-signature"> &rarr; {undefined|<a href="CellEditor.html">CellEditor</a>}</span></h4>

    
    <p class="summary"><p>Instantiate a new cell editor.</p></p>
    



<div class="description">
    <h4>IMPLEMENTATION: Optional</h4><p>If your data model does not supply a custom <code>getCellEditorAt</code> method, <a href="Behavior.html#reset"><code>Behavior#reset</code></a> adds the default implementation (<code>module:dataModel.getCellEditorAt</code>).</p>
<h4>Description</h4><p>The application developer may override this method to:</p>
<ul>
<li>Instantiate and return an arbitrary cell editor. The generic implementation here simply returns the declared cell editor. This is <code>undefined</code> when there was no such declaration, or if the named cell editor was not registered.</li>
<li>Return <code>undefined</code> for no cell editor at all. The cell will not be editable.</li>
<li>Set properties on the instance by passing them in the <code>options</code> object. These are applied to the new cell editor object after instantiation but before rendering.</li>
<li>Manipulate the cell editor object (including its DOM elements) after rendering but before DOM insertion.</li>
</ul>
<p>Overriding this method with a null function (that always returns <code>undefined</code>) will have the effect of making all cells uneditable.</p>
<p>The only requirement for this method (or its override) is to return a reference to an instantiated cell editor, which is all the default implementation does. This is typically the cell editor whose name is in the <a href="module-defaults.html#.editor"><code>config.editor</code></a> property (assumed to be a &quot;registered&quot; cell editor). It doesn't have to be that cell editor, however; any object conforming to the CellEditor interface will do.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>columnIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Absolute column index. I.e., the position of the column in the data source's original <code>fields</code> array, as echoed in <code>behavior.allColumns[]</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rowIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Row index of the data row in the current list of rows, regardless of vertical scroll position, offset by the number of header rows (all the rows above the first data row including the filter row). I.e., after subtracting out the number of header rows, this is the position of the data row in the <code>index</code> array of the data source (i.e., the last data source pipeline).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>editorName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The proposed cell editor name (from the render properties).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cellEvent</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CellEvent.html">CellEvent</a></span>


            
            </td>

            

            

            <td class="description last"><p>All enumerable properties of this object will be copied to the new cell editor object for two purposes:</p>
<ul>
<li>Used in cell editor logic.</li>
<li>For access from the cell editor's HTML template (via mustache).</li>
</ul>
<p>Developer's override of this method may add custom properties, for the purposes listed above.</p>
<p>Hypergrid adds the following properties, required by <a href="CellEditor.html"><code>CellEditor</code></a>:</p>
<ul>
<li><strong><code>.format</code></strong> - The cell's <code>format</code> render prop (name of localizer to use to format the editor preload and parse the edited value). May be <code>undefined</code> (no formatting or parsing). Added by calling <a href="Column.html#getCellEditorAt"><code>getCellEditorAt</code></a> method. Developer's override is free to alter this property.
<strong><code>.column</code></strong> (<a href="Column.html"><code>Column</code></a> object), the only enumerable property of the native <code>CellEvent</code> object. Read-only.</li>
</ul>
<blockquote>
<p>Note: The <code>editPoint</code> property formerly available to cell editors in version 1 has been deprecated in favor of <code>cellEvent.gridCell</code>.</p>
</blockquote></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An object instantiated from the registered cell editor constructor named in <code>editorName</code>. A falsy return means the cell is not editable because the <code>editorName</code> was not registered.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>
|

<span class="param-type"><a href="CellEditor.html">CellEditor</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getColumnCount"><span class="type-signature"></span>getColumnCount<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>

    



<div class="description">
    <p>Same as <code>getSchema().length</code>.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Number of columns in the schema.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getData"><span class="type-signature"></span>getData<span class="signature">(metadataFieldName<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#dataRowObject">dataRowObject</a>>}</span></h4>

    



<div class="description">
    <p>All grid data.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>metadataFieldName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>If provided, the output will include the row metadata object in a &quot;hidden&quot; field with this name.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>All the grid's data rows.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#dataRowObject">dataRowObject</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getDataIndex"><span class="type-signature"></span>getDataIndex<span class="signature">(y)</span><span class="type-signature"> &rarr; {number}</span></h4>

    



<div class="description">
    <p>Synonym for getRowIndex.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Transformed data row index.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Untransformed data row index.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getMetadataStore"><span class="type-signature"></span>getMetadataStore<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get the metadata store. The precise type of this object is implementation-dependent so not defined here.</p>
<p><code>DataSourceBase</code> supplies fallback implementations of this method as well as <a href="dataModelAPI.html#setMetadataStore"><code>dataModelAPI#setMetadataStore</code></a> which merely get and set <code>this.metadata</code> in support of <a href="dataModelAPI.html#getRowMetadata"><code>dataModelAPI#getRowMetadata</code></a> and <a href="dataModelAPI.html#setRowMetadata"><code>dataModelAPI#setRowMetadata</code></a>.</p>
<p>Custom data models are not required to implement them if they don't need them.</p>
<p>Hypergrid never calls <code>getMetadataStore</code> itself. If implemented, Hypergrid does make a single call to <code>setMetadataStore</code> when data model is reset (see <a href="Local.html#resetDataModel"><code>Local#resetDataModel</code></a>) with no arguments.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Metadata store object.</p>
</div>



    



        
            

    

    <h4 class="name" id="getRow"><span class="type-signature"></span>getRow<span class="signature">(rowIndex)</span><span class="type-signature"> &rarr; {number|undefined}</span></h4>

    



<div class="description">
    <p>Get a row of data.</p>
<p>The injected default implementation is an object of lazy getters.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rowIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The data row corresponding to the given <code>rowIndex</code>; or <code>undefined</code> if no such row.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>
|

<span class="param-type">undefined</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getRowCount"><span class="type-signature"></span>getRowCount<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The number of data rows currently contained in the model.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getRowIndex"><span class="type-signature"></span>getRowIndex<span class="signature">(y)</span><span class="type-signature"> &rarr; {number}</span></h4>

    



<div class="description">
    <p>Only called by Hypergrid when it receives the <code>data-prereindex</code> or <code>data-postreindex</code> events.
These events are typically triggered before and after data model remaps the rows (in its <code>apply</code> method).</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Transformed data row index.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Untransformed data row index.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getRowMetadata"><span class="type-signature"></span>getRowMetadata<span class="signature">(y, prototype<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {undefined|false|object}</span></h4>

    



<div class="description">
    <p>Get the row's metadata object, which is a hash of cell properties objects, for those cells that have property overrides, keyed by column name; plus a row properties object with key <code>__ROW</code> when there are row properties.</p>
<p>The default implementations of <code>getRowMetadata</code> and <code>setRowMetadata</code> store the metadata in an in-memory table. If this is not appropriate, override these methods to store the meta somewhere else (<em>e.g.,</em> with the data in a hidden column, in another database table, in local storage, <em>etc.</em>).</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Row index.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prototype</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>When row found but no metadata found, set the row's metadata to new object created from this object when defined.
Typical defined value is <code>null</code>, which creates a plain object with no prototype, or <code>Object.prototype</code> for a more &quot;natural&quot; object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>One of:</p>
<ul>
<li>object - existing metadata object or new metadata object created from <code>prototype</code>; else</li>
<li><code>false</code> - row found but no existing metadata and <code>prototype</code> was not defined; else</li>
<li><code>undefined</code>  - no such row</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>
|

<span class="param-type">false</span>
|

<span class="param-type">object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getSchema"><span class="type-signature"></span>getSchema<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#columnSchema">columnSchema</a>>}</span></h4>

    



<div class="description">
    <p>Get list of columns. The order of the columns in the list defines the column indexes.</p>
<p>On initial call and again whenever the schema changes, the data model must dispatch the <code>data-schema-changed</code> event, which tells Hypergrid to <code>decorate</code> the schema and recreate the column objects.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#columnSchema">columnSchema</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getValue"><span class="type-signature"></span>getValue<span class="signature">(columnIndex, rowIndex)</span><span class="type-signature"> &rarr; {string|number|boolean|null}</span></h4>

    



<div class="description">
    <p>Get a cell's value given its column &amp; row indexes.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>columnIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rowIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The member with the given <code>columnIndex</code> from the data row with the given <code>rowIndex</code>.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>
|

<span class="param-type">number</span>
|

<span class="param-type">boolean</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="install"><span class="type-signature"></span>install<span class="signature">(api, options)</span><span class="type-signature"></span></h4>

    
    <p class="summary"><p>Install methods into data model.</p></p>
    



<div class="description">
    <p>Installs <em>catchers functions</em> or <em>fallback methods</em> into the data model when no native implementation exists, thus ensuring the methods have implementations for Hypergrid to call.</p>
<h3>Catcher functions</h3><p>Catcher functions catch calls made by Hypergrid to otherwise unimplemented functions so such calls fail silently rather than throw an error.</p>
<ul>
<li>When <code>api</code> is array: <code>install</code> injects catcher functions named for each string in the array.</li>
<li>When <code>api</code> is an object: <code>install</code> injects catcher functions named for each key in the object. (Keys with non-function values are excluded.)</li>
</ul>
<p>Keys <code>constructor</code> and <code>initialize</code> are always excluded. In addition, the <code>install</code> method defined in <code>datasaur-base</code> will also exclude keys missing from whitelist (<code>api['!!keys']</code>) or included in blacklist (<code>api['!key']</code>).</p>
<p>The type of <em>catcher function</em> depends on the data model:</p>
<ul>
<li>Flat data model: Catcher functions are simple no-ops that fail silently.</li>
<li>Stacked data model: Catcher functions forward calls down the stack to the first native implementation found. When no native implementation is found, the call then fails silently.</li>
</ul>
<p>(A stacked data model consists of a list of <em>data transformers,</em> linked one to the next with a <code>next</code> property, and ending with a <em>data source</em> with an undefined <code>next</code>. The <a href="https://github.com/fin-hypergrid/datasaur-base"><code>datasaur-base</code></a> base class supports stacked data models.)</p>
<h3>Fallbacks methods</h3><p>Instead of failing silently, Hypergrid can instead install fallback methods for missing implementations:</p>
<p>When <code>options.inject</code> is truthy (and <code>api</code> is an object), <code>install</code> injects <code>api</code>'s fallback methods into the data model instead of simple catchers when no native implementation already exists (however see <code>options.force</code> below).</p>
<p>For a stacked data model, the target for the injection is the bottom instance in the stack (the data source instance); and the forwarding mechanism is also installed so the call will find the fallback there.</p>
<h3>Forced installation</h3><p>When <code>options.force</code> is truthy, the fallback methods are always installed regardless of whether or not a native implementation exists; <em>i.e.,</em> the fallbacks override the native implementations.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>api</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Collection of methods or a list of method names.</p>
<p>The following keys are however ignored:</p>
<ul>
<li><em>When <code>api</code> is a hash:</em><ul>
<li>Keys defined as accessors (getters/setters)</li>
<li>Keys not defined as functions</li>
</ul>
</li>
<li>Keys named <code>initialize</code> or <code>constructor</code></li>
<li>Keys not named in <code>api['!!keys']</code> if defined (<em>i.e.,</em> a whitelist)</li>
<li>Keys named in <code>api['!keys']</code> if defined (<em>i.e.,</em> a blacklist)</li>
</ul></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.inject</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Injects <code>api</code> object's fallback methods for missing data model implementations. (Otherwise, just installs catchers based on the keys.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.force</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>If <code>options.inject</code> also true, injects <code>api</code> object's fallback methods, even if data model already has an implementation.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="isDrillDown"><span class="type-signature"></span>isDrillDown<span class="signature">(y)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>Called by Hypergrid's CellClick feature whenever user clicks on the grid.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Data row index.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The row has a drill down control.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="isTree"><span class="type-signature"></span>isTree<span class="signature">(y)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>Synonym for <a href="dataModelAPI.html#isDrillDown"><code>isDrillDown</code></a>.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Data row index.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The row has a drill down control.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="setData"><span class="type-signature"></span>setData<span class="signature">(data)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Blah.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#dataRowObject">dataRowObject</a>></span>


            
            </td>

            

            

            <td class="description last"><p>An array of congruent raw data objects.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code></code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#rawColumnSchema">rawColumnSchema</a>></span>


            
            </td>

            

            

            <td class="description last"><p>Ordered array of column schema.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setMetadataStore"><span class="type-signature"></span>setMetadataStore<span class="signature">(newMetadataStore<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Set the metadata store. The precise type of this object is implementation-dependent, so not defined here.</p>
<p><code>DataSourceBase</code> supplies fallback implementations of this method as well as <a href="dataModelAPI.html#getMetadataStore"><code>dataModelAPI#getMetadataStore</code></a> which merely set and get <code>this.metadata</code> in support of <a href="dataModelAPI.html#setRowMetadata"><code>dataModelAPI#setRowMetadata</code></a> and <a href="dataModelAPI.html#getRowMetadata"><code>dataModelAPI#getRowMetadata</code></a>.</p>
<p>Custom data models are not required to implement them if they don't need them.</p>
<p>If implemented, Hypergrid makes a single call to <code>setMetadataStore</code> when data model is reset (see <a href="Local.html#resetDataModel"><code>Local#resetDataModel</code></a>) with no arguments. Therefore this method needs to expect a no-arg overload and handle it appropriately.</p>
<p>Hypergrid never calls <code>getMetadataStore</code>.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>newMetadataStore</code></td>
            

            <td class="type">
            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>New metadata store object. Omitted on data model reset.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setRow"><span class="type-signature"></span>setRow<span class="signature">(y, dataRow<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Update or blank row in place.</p>
<p><em>Note parameter order is the reverse of <code>addRow</code>.</em></p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataRow</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>if omitted or otherwise falsy, row renders as blank</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setRowMetadata"><span class="type-signature"></span>setRowMetadata<span class="signature">(y, newMetadata<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Set the row's metadata object, which is a hash of cell properties objects, for those cells that have property overrides, keyed by column name; plus a row properties object with key <code>__ROW</code> when there are row properties.</p>
<p>The default implementations of <code>getRowMetadata</code> and <code>setRowMetadata</code> store the metadata in an in-memory table. If this is not appropriate, override these methods to store the meta somewhere else (<em>e.g.,</em> with the data in a hidden column, in another database table, in local storage, <em>etc.</em>).</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Row index.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newMetadata</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>When omitted, delete the row's metadata.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setSchema"><span class="type-signature"></span>setSchema<span class="signature">(newSchema<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Define column indexes. May include <code>header</code>, <code>type</code>, and <code>calculator</code> properties for each column.</p>
<p>When the schema changes, the data model should dispatch the <code>data-schema-changed</code> event, which tells Hypergrid to <code>decorate</code> the schema and recreate the column objects.</p>
<p>It is not necessary to call on every data update when you expect to reuse the existing schema.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>newSchema</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;(<a href="global.html#columnSchema">columnSchema</a>|string)></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>String elements are immediately converted (by <code>decorate</code>) to columnSchema objects.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setValue"><span class="type-signature"></span>setValue<span class="signature">(columnIndex, rowIndex, newValue)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Set a cell's value given its column &amp; row indexes and a new value.</p>
<h4>Parameters:</h4>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>columnIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rowIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newValue</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
    

    

    
        <h3 class="subsection-title">Events</h3>

        
            

    

    <h4 class="name" id="event:fin-hypergrid-data-changed">fin-hypergrid-data-changed</h4>

    



<div class="description">
    <p>The data model should trigger this event when it changes the data on its own.
Hypergrid responds by calling <code>grid.repaint()</code> — before triggering a grid event using the same event string, which applications can listen for using <a href="Hypergrid.html#addEventListener"><code>addEventListener</code></a>:</p>
<pre class="prettyprint source lang-js"><code>grid.addEventListener('fin-hypergrid-data-changed', myHandlerFunction);</code></pre><p>This event is not cancelable.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:fin-hypergrid-data-postreindex">fin-hypergrid-data-postreindex</h4>

    



<div class="description">
    <p>The data models should trigger this event immediately after data model remaps the rows.
Hypergrid responds by reselecting the remaining rows matching the indices previously saved in the <code>data-prereindex</code> event, and then calling <a href="Hypergrid.html#behaviorShapeChanged"><code>grid.behaviorShapeChanged()</code></a> — before triggering a grid event using the same event string, which applications can listen for using <a href="Hypergrid.html#addEventListener"><code>addEventListener</code></a>:</p>
<pre class="prettyprint source lang-js"><code>grid.addEventListener('fin-hypergrid-data-postreindex', myHandlerFunction);</code></pre><p>This event is not cancelable.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:fin-hypergrid-data-prereindex">fin-hypergrid-data-prereindex</h4>

    



<div class="description">
    <p>The data models should trigger this event immediately before data model remaps the rows.
Hypergrid responds by saving the underlying row indices of currently selected rows — before triggering a grid event using the same event string, which applications can listen for using <a href="Hypergrid.html#addEventListener"><code>addEventListener</code></a>:</p>
<pre class="prettyprint source lang-js"><code>grid.addEventListener('fin-hypergrid-data-prereindex', myHandlerFunction);</code></pre><p>This event is not cancelable.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:fin-hypergrid-data-shape-changed">fin-hypergrid-data-shape-changed</h4>

    



<div class="description">
    <p>The data model should trigger this event when it changes the data rows (count, order, <em>etc.</em>) on its own.
Hypergrid responds by calling <a href="Hypergrid.html#behaviorChanged"><code>grid.behaviorChanged()</code></a> — before triggering a grid event using the same event string, which applications can listen for using <a href="Hypergrid.html#addEventListener"><code>addEventListener</code></a>:
<code>`js
grid.addEventListener('fin-hypergrid-data-shape-changed', myHandlerFunction);</code>
This event is not cancelable.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:fin-hypergrid-schema-changed">fin-hypergrid-schema-changed</h4>

    



<div class="description">
    <p>The data models should trigger this event on a schema change, typically from setSchema, or wherever schema is initialized. Hypergrid responds by normalizing and decorating the schema object and recreating the grid's column objects — before triggering a grid event using the same event string, which applications can listen for using <a href="Hypergrid.html#addEventListener"><code>addEventListener</code></a>:</p>
<pre class="prettyprint source lang-js"><code>grid.addEventListener('fin-hypergrid-schema-changed', myHandlerFunction);</code></pre><p>This event is not cancelable.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-fields.html#.normalizeSchema"><code>normalizeSchema</code></a></li>
        
            <li><a href="module-fields.html#.decorateSchema"><code>decorateSchema</code></a></li>
        
            <li><a href="module-fields.html#.decorateColumnSchema"><code>decorateColumnSchema</code></a></li>
        </ul>
    </dd>
    

    
</dl>
















        
    
</article>

</section>




</div>

<br class="clear">

<footer>
    © 2018 <a href="http://www.openfin.co" target="_blank">OpenFin</a> All Rights Reserved.
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>